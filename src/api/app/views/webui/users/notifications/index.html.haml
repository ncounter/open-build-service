- @pagetitle = 'Notifications'

= render partial: 'index_actions'

.row
  .col-md-4.col-lg-3.px-0.px-md-3.sticky-top#notifications-filter-desktop
    .card.mb-3
      %strong.d-block.d-md-none.p-3{ data: { 'bs-toggle': 'collapse', 'bs-target': '#filters' },
                                  aria: { expanded: true, controls: 'filters' } }
        Filtered by: #{@filtered_by.map(&:to_s).map(&:humanize).join(", ") || 'Unread'}
        %i.float-end.mt-1.fa.fa-chevron-down#notifications-dropdown-trigger
      .collapse#filters
        = render NotificationFilterComponent.new(relations: @notifications,
                                                 selected_filter: @selected_filter,
                                                 user: User.session)

  .col-md-8.col-lg-9.px-0.px-md-3#notifications-list
    = render partial: 'notifications_list', locals: { notifications: @notifications,
                                                      selected_filter: @selected_filter,
                                                      show_read_all_button: @show_read_all_button,
                                                      current_user: @current_user }
